<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TuniLearn</title>
<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family: 'Arial', sans-serif;
  background:#111;
  color:#1e90ff;
}
a{color:#1e90ff; text-decoration:none; cursor:pointer;}
/* ===== AUTH ===== */
#auth{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.phone{
  width:360px;
  background:#1a1a1a;
  padding:25px;
  border-radius:22px;
  box-shadow:0 0 10px rgba(0,0,0,0.5);
}
h1{text-align:center;color:white;font-family:'Verdana', sans-serif;}
.tuni{color:white;font-weight:bold}
.dot{color:red}
.learn{color:white}
p{color:#aaa;text-align:center;font-size:16px;}
input{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:12px;
  border:none;
}
.buttons{display:flex;justify-content:space-between;}
button{
  width:48%;
  padding:12px;
  border:none;
  border-radius:14px;
  background:#e53935;
  color:white;
  cursor:pointer;
  font-weight:bold;
}
.start{width:100%;margin-top:15px;background:#ff1744;}
#forgot{width:100%;margin-top:10px;background:#2196f3;border:none;color:white;padding:10px;border-radius:12px;cursor:pointer;font-weight:bold;}
#showPass{width:100%;margin-top:10px;background:#ffa500;border:none;color:white;padding:10px;border-radius:12px;cursor:pointer;font-weight:bold;}
#status{color:#ff5252;text-align:center;margin-top:10px;font-weight:bold}

/* ===== HOME ===== */
#home{display:none;padding:20px;}
.home-title{color:white;font-size:18px;margin-bottom:15px;font-family:'Tahoma', sans-serif;text-align:left;}
.banner{border:2px solid #1e90ff;color:black;background:#87cefa;padding:14px;border-radius:14px;text-align:center;margin-bottom:20px;font-weight:bold;font-size:18px;}

/* ===== LEVELS ===== */
.level-container{display:flex;flex-direction:column;gap:8px;}
.level{border:1px solid #1e90ff;padding:12px;border-radius:10px;color:#ccc;cursor:pointer;font-size:16px;text-align:right;background:#222;transition:0.2s;display:flex;justify-content:space-between;align-items:center;}
.level:hover{background:#1e90ff;color:#111;}

/* ===== SUBLEVELS ===== */
.sublvl{border:1px solid #1e90ff;padding:4px 8px;border-radius:6px;color:#ccc;cursor:pointer;font-size:12px;text-align:right;background:#444;transition:0.2s;margin-left:5px;}
.sublvl:hover{background:#1e90ff;color:#111;}

/* ===== LEVEL PAGE ===== */
#levelPage{display:none;padding:20px;position:relative;}
.level-title-container{display:flex;align-items:center;gap:5px;margin-bottom:15px;}
.file{border:1px solid #1e90ff;padding:6px;border-radius:8px;margin-bottom:5px;color:#ccc;pointer-events:none;font-size:12px;margin-top:4px;}
.back{background:none;color:white;border:2px solid #006400;padding:8px;border-radius:10px;width:100px;cursor:pointer;font-weight:bold;margin-top:15px;}
</style>
</head>
<body>

<!-- AUTH -->
<div id="auth">
  <div class="phone">
    <h1>
      <span class="tuni">Tuni</span>
      <span class="dot">â€¢</span>
      <span class="learn">Learn</span>
    </h1>

    <p>Ù…Ø±Ø­Ø¨Ø§ Ø¨ÙŠÙƒ ÙÙŠ Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªÙˆÙ†Ø³ÙŠØ© Ù„Ø§Ø¬ØªÙŠØ§Ø² Ø§Ù„ÙØ±ÙˆØ¶<br>Exams â€¢ Summaries â€¢ Devoirs</p>

    <input id="email" placeholder="Email">
    <input id="password" type="password" placeholder="Password">

    <div class="buttons">
      <button onclick="signup()">Sign up</button>
      <button onclick="login()">Log in</button>
    </div>  

    <button id="forgot" onclick="forgotPassword()">Forgot Password</button>
    <button id="showPass" onclick="togglePassword()">Show Password</button>
  
    <button class="start" onclick="start()">Start Discovering</button>  
    <div id="status"></div>
  </div>
</div>

<!-- HOME -->
<div id="home">
  <div class="home-title">Learning Space</div>
  <div class="banner">All exams and summaries you need</div>
  <div class="level-container" id="levelContainer"></div>
</div>

<!-- LEVEL PAGE -->
<div id="levelPage">
  <h2 id="levelTitle" style="color:white;margin-left:10px;"></h2>  
  <div class="file">ğŸ“˜ ÙØ±ÙˆØ¶ Ù…Ø±Ø§Ù‚Ø¨Ø©</div>  
  <div class="file">ğŸ“• ÙØ±ÙˆØ¶ ØªØ£Ù„ÙŠÙÙŠØ©</div>  
  <div class="file">ğŸ“— ØªÙ„Ø§Ø®ÙŠØµ</div>  
  <button class="back" onclick="backHome()">Back / Ø±Ø¬ÙˆØ¹</button>
</div>

<script>
const auth=document.getElementById("auth");
const home=document.getElementById("home");
const levelContainer=document.getElementById("levelContainer");
const levelPage=document.getElementById("levelPage");
const levelTitle=document.getElementById("levelTitle");
const status=document.getElementById("status");
const emailInput=document.getElementById("email");
const passInput=document.getElementById("password");

/* ===== LEVEL DATA ===== */
const levels = [
  {name:"7 Ø£Ø³Ø§Ø³ÙŠ"},
  {name:"8 Ø£Ø³Ø§Ø³ÙŠ"},
  {name:"9 Ø£Ø³Ø§Ø³ÙŠ"},
  {name:"1 Ø«Ø§Ù†ÙˆÙŠ"},
  {name:"2 Ø«Ø§Ù†ÙˆÙŠ", shubs:["Ø¢Ø¯Ø§Ø¨","Ø§Ù‚ØªØµØ§Ø¯ ÙˆØªØµØ±Ù","Ø¹Ù„ÙˆÙ… Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©","Ø¹Ù„ÙˆÙ…"]},
  {name:"3 Ø«Ø§Ù†ÙˆÙŠ", shubs:["Ø¢Ø¯Ø§Ø¨","Ø§Ù‚ØªØµØ§Ø¯ ÙˆØªØµØ±Ù","Ø¹Ù„ÙˆÙ… Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©","Ø¹Ù„ÙˆÙ… ØªÙ‚Ù†ÙŠØ©","Ø¹Ù„ÙˆÙ…","Ø±ÙŠØ§Ø¶ÙŠØ§Øª"]},
  {name:"4 Ø«Ø§Ù†ÙˆÙŠ", shubs:["Ø¢Ø¯Ø§Ø¨","Ø§Ù‚ØªØµØ§Ø¯ ÙˆØªØµØ±Ù","Ø¹Ù„ÙˆÙ… Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©","Ø¹Ù„ÙˆÙ… ØªÙ‚Ù†ÙŠØ©","Ø¹Ù„ÙˆÙ…","Ø±ÙŠØ§Ø¶ÙŠØ§Øª"]}
];

/* ===== AUTH FUNCTIONS ===== */
function signup(){
  const emailVal=emailInput.value.trim();
  const passVal=passInput.value.trim();
  if(!emailVal || !passVal){status.innerText="âŒ Fill all fields"; return;}
  localStorage.setItem("userEmail",emailVal);
  localStorage.setItem("userPass",passVal);
  localStorage.setItem("logged","yes");
  auth.style.display="none";
  renderLevels();
  home.style.display="block";
}

function login(){
  const emailVal=emailInput.value.trim();
  const passVal=passInput.value.trim();
  if(emailVal===localStorage.getItem("userEmail") &&
     passVal===localStorage.getItem("userPass")){
       localStorage.setItem("logged","yes");
       auth.style.display="none";
       renderLevels();
       home.style.display="block";
  }else{
    status.innerText="âŒ Wrong email or password";
  }
}

function start(){
  if(localStorage.getItem("logged")==="yes"){
    auth.style.display="none";
    renderLevels();
    home.style.display="block";
  }else{
    status.innerText="âŒ You must log in first";
  }
}

function forgotPassword(){
  const email=prompt("Enter your email to reset password:");
  if(email===localStorage.getItem("userEmail")){
    const code=Math.floor(Math.random()*900000)+100000;
    alert("Your reset code is: "+code);
  } else alert("Email not found!");
}

function togglePassword(){
  passInput.type = passInput.type==="password"?"text":"password";
}

/* ===== RENDER LEVELS ===== */
function renderLevels(){
  levelContainer.innerHTML="";
  levels.forEach(l=>{
    const div=document.createElement("div");
    div.className="level";
    div.innerText=l.name;
    // create inline sublevels if exist
    if(l.shubs){
      l.shubs.forEach(s=>{
        const sub=document.createElement("span");
        sub.className="sublvl";
        sub.innerText=s;
        sub.onclick=(e)=>{
          e.stopPropagation();
          requireLogin(()=>openLevel(`${l.name} ${s}`));
        };
        div.appendChild(sub);
      });
    }
    div.onclick=()=>requireLogin(()=>openLevelOrSub(l));
    levelContainer.appendChild(div);
  });
}

/* ===== OPEN LEVEL PAGE ===== */
function openLevelOrSub(level){
  if(level.shubs){
    // nothing, handled inline
  } else openLevel(level.name);
}

function openLevel(name){
  home.style.display="none";
  levelPage.style.display="block";
  levelTitle.innerText=name;
}

function backHome(){
  levelPage.style.display="none";
  home.style.display="block";
}

/* ===== REQUIRE LOGIN ON CLICK ===== */
function requireLogin(callback){
  if(localStorage.getItem("logged")==="yes"){
    callback();
  } else {
    alert("âŒ Please login first");
    auth.style.display="flex";
    home.style.display="none";
  }
}

/* ===== FORCE LOGIN ON LOAD ===== */
if(localStorage.getItem("logged")==="yes"){
  auth.style.display="none";
  renderLevels();
  home.style.display="block";
}else{
  auth.style.display="flex";
  home.style.display="none";
}

// force login on any click on body
document.body.addEventListener('click', function(e){
  if(!auth.contains(e.target)){ // ignore clicks inside auth
    requireLogin(()=>{});
  }
}, true);

</script>
</body>
</html>
