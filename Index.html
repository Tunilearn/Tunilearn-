<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TuniLearn</title>

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#111;color:#1e90ff}

/* AUTH */
#auth{min-height:100vh;display:flex;justify-content:center;align-items:center}
.phone{width:360px;background:#1a1a1a;padding:25px;border-radius:22px}
h1{text-align:center;color:white}
.dot{color:red}
p{text-align:center;color:#aaa;font-size:14px}

input{
  width:100%;
  padding:12px;
  margin:6px 0;
  border-radius:12px;
  border:none;
}

#showPass{
  width:100%;
  background:#333;
  color:white;
  border:none;
  font-size:10px;
  padding:4px;
  border-radius:999px;
  margin-bottom:10px;
  cursor:pointer;
}

.buttons{display:flex;justify-content:space-between}
button{
  width:48%;
  padding:12px;
  border:none;
  border-radius:14px;
  background:#e53935;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

#forgot{
  width:70%;
  margin:8px auto;
  display:block;
  font-size:12px;
  background:#2196f3;
  padding:6px;
  border-radius:8px;
}

#status{color:#ff5252;text-align:center;margin-top:8px;font-weight:bold}

/* HOME */
#home{display:none;padding:20px}
.banner{background:#87cefa;color:black;padding:12px;border-radius:12px;text-align:center;font-weight:bold}
.level{margin-top:10px;border:1px solid #1e90ff;padding:12px;border-radius:10px;background:#222;color:#ccc;cursor:pointer}

/* SUBJECTS */
#subjects{display:none;min-height:100vh;background:#b71c1c;padding:20px}
.subject{background:#fff;color:#000;padding:12px;border-radius:12px;margin-top:10px;font-weight:bold}
.exam{margin-top:6px;border:2px dashed #b71c1c;padding:10px;border-radius:10px;text-align:center}
.back{margin-top:15px;background:#000;color:#fff;width:100%;padding:10px;border-radius:12px;border:none}
</style>
</head>

<body>

<div id="auth">
  <div class="phone">
    <h1>Tuni<span class="dot">•</span>Learn</h1>
    <p>منصة تونسية للفروض فقط</p>

    <input id="email" placeholder="Email">
    <input id="phone" placeholder="Phone number">
    <input id="password" type="password" placeholder="Password">

    <button id="showPass" onclick="togglePassword()">Password visibility</button>

    <div class="buttons">
      <button onclick="signup()">Sign up</button>
      <button onclick="login()">Log in</button>
    </div>

    <button id="forgot" onclick="forgotPassword()">Forgot password</button>
    <div id="status"></div>
  </div>
</div>

<div id="home">
  <div class="banner">اختر مستواك</div>
  <div id="levels"></div>
</div>

<div id="subjects">
  <h2 id="subjectTitle" style="color:white;text-align:center"></h2>
  <div id="subjectList"></div>
  <button class="back" onclick="backHome()">رجوع</button>
</div>

<script>
const usersKey="tunilearn_users";
let users=JSON.parse(localStorage.getItem(usersKey)||"[]");

function signup(){
 if(!email.value||!phone.value||!password.value){
  status.innerText="أكمل المعطيات";
  return;
 }
 if(users.find(u=>u.email===email.value||u.phone===phone.value)){
  status.innerText="الحساب موجود";
  return;
 }
 users.push({email:email.value,phone:phone.value,pass:password.value});
 localStorage.setItem(usersKey,JSON.stringify(users));
 enterHome();
}

function login(){
 const u=users.find(u=>
  (u.email===email.value||u.phone===phone.value)&&u.pass===password.value
 );
 if(!u){status.innerText="اعمل حساب جديد";return;}
 enterHome();
}

function forgotPassword(){
 const x=prompt("Tunilearn استعادة الباسورد\n\nأدخل الإيميل أو الهاتف");
 const u=users.find(u=>u.email===x||u.phone===x);
 if(!u){alert("الحساب غير موجود");return;}
 alert("Tunilearn استعادة الباسورد\n\nكلمة السر:\n"+u.pass);
}

function togglePassword(){
 password.type=password.type==="password"?"text":"password";
}

function enterHome(){
 auth.style.display="none";
 home.style.display="block";
 renderLevels();
}

const levelsData={
 "7 أساسي":["عربية","رياضيات","علوم"],
 "8 أساسي":["عربية","رياضيات","فيزياء","علوم"],
 "9 أساسي":["عربية","رياضيات","فيزياء","علوم"],
 "1 ثانوي":["عربية","رياضيات","فيزياء"],
 "2 ثانوي":["عربية","رياضيات","فيزياء","علوم"],
 "3 ثانوي":["اختصاص 1","اختصاص 2"],
 "4 ثانوي":["اختصاص 1","اختصاص 2"]
};

function renderLevels(){
 levels.innerHTML="";
 Object.keys(levelsData).forEach(l=>{
  const d=document.createElement("div");
  d.className="level";
  d.innerText=l;
  d.onclick=()=>openSubjects(l);
  levels.appendChild(d);
 });
}

function openSubjects(level){
 home.style.display="none";
 subjects.style.display="block";
 subjectTitle.innerText=level;
 subjectList.innerHTML="";
 levelsData[level].forEach(s=>{
  const box=document.createElement("div");
  box.className="subject";
  box.innerHTML=s+
   '<div class="exam">فروض مراقبة (صور)</div>'+
   '<div class="exam">فروض تأليفية (صور)</div>';
  subjectList.appendChild(box);
 });
}

function backHome(){
 subjects.style.display="none";
 home.style.display="block";
}
</script>

</body>
</html>
