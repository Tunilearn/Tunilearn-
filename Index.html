<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tuniâ€¢Learn | Full Version</title>
<style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Arial, sans-serif; }
    body { background: #111; color: #fff; overflow-x: hidden; }
    
    /* AUTH */
    #auth { position: fixed; inset: 0; background: #111; z-index: 2000; display: flex; justify-content: center; align-items: center; padding: 20px; }
    .auth-card { width: 100%; max-width: 400px; background: #1a1a1a; padding: 30px; border-radius: 25px; text-align: center; border: 1px solid #333; }
    .logo { font-size: 28px; font-weight: bold; margin-bottom: 10px; }
    .dot { color: #e53935; }
    .blue-text { color: #1e90ff; }
    
    input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 12px; border: 1px solid #333; background: #222; color: white; outline: none; text-align: center; }
    .btn { width: 100%; padding: 12px; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 5px; }
    .btn-red { background: #e53935; color: white; }
    .btn-blue { background: #1e90ff; color: white; }
    .btn-gray { background: #333; color: #ccc; font-size: 12px; border-radius: 10px; padding: 5px; }
    #status { margin-top: 15px; font-size: 14px; color: #ff5252; }

    /* LAYOUTS */
    .page { display: none; padding: 20px; max-width: 500px; margin: 0 auto; min-height: 100vh; padding-bottom: 80px; }
    .banner { background: #87cefa; color: #000; padding: 15px; border-radius: 15px; font-weight: bold; text-align: center; margin-bottom: 20px; }

    /* LISTS */
    .list-item { background: #222; border: 1px solid #333; padding: 15px; border-radius: 15px; margin-bottom: 10px; cursor: pointer; font-weight: 500; display: flex; justify-content: space-between; align-items: center; }
    .branches-container { display: none; flex-direction: column; gap: 5px; margin: -5px 10px 10px 10px; padding: 10px; border-right: 2px solid #1e90ff; }
    .branch-item { background: #333; padding: 12px; border-radius: 10px; font-size: 14px; cursor: pointer; border: 1px solid #444; }

    /* EXAMS */
    .exam-card { background: #1a1a1a; border-radius: 15px; overflow: hidden; margin-bottom: 20px; border: 1px solid #333; }
    .exam-header { padding: 12px; background: #222; font-size: 14px; font-weight: bold; border-bottom: 1px solid #333; }
    .exam-image { width: 100%; display: block; border-radius: 0 0 15px 15px; }
    
    /* GRAY THING */
    .no-image { height: 250px; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #333; color: #777; font-size: 13px; }

    .nav-btn { position: fixed; bottom: 20px; left: 20px; padding: 12px 25px; background: #2e7d32; border: none; border-radius: 12px; color: white; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
</style>
</head>
<body>

<div id="auth">
    <div class="auth-card">
        <div class="logo">Tuni<span class="dot">â€¢</span><span class="blue-text">Learn</span></div>
        <p style="color: #87cefa; font-size: 14px; margin-bottom: 15px;">Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</p>
        <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
        <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
        <button class="btn-gray" onclick="togglePass()">Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</button>
        <div style="display:flex; gap:10px; margin-top:10px;">
            <button class="btn btn-red" onclick="handleSignup()">ØªØ³Ø¬ÙŠÙ„</button>
            <button class="btn btn-blue" onclick="handleLogin()">Ø¯Ø®ÙˆÙ„</button>
        </div>
        <div id="status"></div>
    </div>
</div>

<div id="home" class="page">
    <div class="logo">Tuni<span class="dot">â€¢</span><span class="blue-text">Learn</span></div>
    <div class="banner">Ø§Ø®ØªØ± Ù…Ø³ØªÙˆØ§Ùƒ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</div>
    <div id="levelContainer"></div>
</div>

<div id="subjectPage" class="page">
    <div class="logo">Tuni<span class="dot">â€¢</span><span class="blue-text">Learn</span></div>
    <div class="banner" id="subjectTitle">Ø§Ù„Ù…ÙˆØ§Ø¯</div>
    <div id="subjectList"></div>
    <button class="nav-btn" onclick="showPage('home')">Ø±Ø¬ÙˆØ¹</button>
</div>

<div id="examPage" class="page">
    <div class="logo">Tuni<span class="dot">â€¢</span><span class="blue-text">Learn</span></div>
    <h3 id="examTitle" style="margin: 15px 0; color: #1e90ff; text-align: center;"></h3>
    <div id="examContainer"></div>
    <button class="nav-btn" onclick="showPage('subjectPage')">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…ÙˆØ§Ø¯</button>
</div>

<script>
// --- FULL DATA STRUCTURE ---
const coreSubjects = ["Ø¹Ø±Ø¨ÙŠØ©", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø¹Ù„ÙˆÙ…", "ÙÙŠØ²ÙŠØ§Ø¡", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§", "ØªØ±Ø¨ÙŠØ© Ø¥Ø³Ù„Ø§Ù…ÙŠØ©", "ØªØ±Ø¨ÙŠØ© Ù…Ø¯Ù†ÙŠØ©", "Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©", "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§"];

const levels = {
    "7 Ø£Ø³Ø§Ø³ÙŠ": coreSubjects,
    "8 Ø£Ø³Ø§Ø³ÙŠ": coreSubjects,
    "9 Ø£Ø³Ø§Ø³ÙŠ": coreSubjects,
    "1 Ø«Ø§Ù†ÙˆÙŠ": [...coreSubjects, "Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø© Ùˆ Ø§Ù„Ø£Ø±Ø¶"],
    "2 Ø«Ø§Ù†ÙˆÙŠ": {
        "Ø¢Ø¯Ø§Ø¨": ["Ø¹Ø±Ø¨ÙŠØ©", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§", "ÙÙ„Ø³ÙØ©", "Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©"],
        "Ø¹Ù„ÙˆÙ…": ["Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©", "Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø© Ùˆ Ø§Ù„Ø£Ø±Ø¶", "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"],
        "Ø§Ù‚ØªØµØ§Ø¯ Ùˆ ØªØµØ±Ù": ["Ø§Ù‚ØªØµØ§Ø¯", "ØªØµØ±Ù", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§", "ÙØ±Ù†Ø³ÙŠØ©"],
        "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©": ["Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"]
    },
    "3 Ø«Ø§Ù†ÙˆÙŠ": {
        "Ø¢Ø¯Ø§Ø¨": ["Ø¹Ø±Ø¨ÙŠØ©", "ÙÙ„Ø³ÙØ©", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"],
        "Ø±ÙŠØ§Ø¶ÙŠØ§Øª": ["Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©", "Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø© Ùˆ Ø§Ù„Ø£Ø±Ø¶", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"],
        "Ø¹Ù„ÙˆÙ… ØªØ¬Ø±ÙŠØ¨ÙŠØ©": ["Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø© Ùˆ Ø§Ù„Ø£Ø±Ø¶", "Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "ÙØ±Ù†Ø³ÙŠØ©"],
        "Ø¹Ù„ÙˆÙ… ØªÙ‚Ù†ÙŠØ©": ["ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©", "ÙØ±Ù†Ø³ÙŠØ©"],
        "Ø§Ù‚ØªØµØ§Ø¯ Ùˆ ØªØµØ±Ù": ["Ø§Ù‚ØªØµØ§Ø¯", "ØªØµØ±Ù", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "ÙØ±Ù†Ø³ÙŠØ©", "ØªØ§Ø±ÙŠØ®"],
        "Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©": ["Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª", "Ù‚ÙˆØ§Ø¹Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª", "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "ÙÙŠØ²ÙŠØ§Ø¡"]
    },
    "Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§": {
        "Ø¢Ø¯Ø§Ø¨": ["Ø¹Ø±Ø¨ÙŠØ©", "ÙÙ„Ø³ÙØ©", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"],
        "Ø±ÙŠØ§Ø¶ÙŠØ§Øª": ["Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©", "Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø© Ùˆ Ø§Ù„Ø£Ø±Ø¶", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"],
        "Ø¹Ù„ÙˆÙ… ØªØ¬Ø±ÙŠØ¨ÙŠØ©": ["Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø© Ùˆ Ø§Ù„Ø£Ø±Ø¶", "Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"],
        "Ø¹Ù„ÙˆÙ… ØªÙ‚Ù†ÙŠØ©": ["ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"],
        "Ø§Ù‚ØªØµØ§Ø¯ Ùˆ ØªØµØ±Ù": ["Ø§Ù‚ØªØµØ§Ø¯", "ØªØµØ±Ù", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§", "ÙØ±Ù†Ø³ÙŠØ©"],
        "Ø¥Ø¹Ù„Ø§Ù…ÙŠØ©": ["Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª", "Ù‚ÙˆØ§Ø¹Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª", "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "ÙÙŠØ²ÙŠØ§Ø¡"],
        "Ø±ÙŠØ§Ø¶Ø©": ["Ø¹Ù„ÙˆÙ… Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ©", "Ø±ÙŠØ§Ø¶Ø©", "ÙÙŠØ²ÙŠØ§Ø¡", "ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù†Ú¨Ù„ÙŠØ²ÙŠØ©"]
    }
};

// --- LOGIC ---
let users = JSON.parse(localStorage.getItem("users") || "[]");

function handleSignup() {
    const e = document.getElementById("email").value.trim();
    const p = document.getElementById("password").value.trim();
    if(!e || !p) { alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); return; }
    if(users.find(u => u.email === e)) { alert("Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…ÙˆØ¬ÙˆØ¯"); return; }
    users.push({email: e, password: p});
    localStorage.setItem("users", JSON.stringify(users));
    document.getElementById("status").innerText = "âœ… ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­";
}

function handleLogin() {
    const e = document.getElementById("email").value.trim();
    const p = document.getElementById("password").value.trim();
    const user = users.find(u => u.email === e && u.password === p);
    if(user) {
        document.getElementById("auth").style.display = "none";
        showPage('home');
        renderLevels();
    } else {
        alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±");
    }
}

function togglePass() {
    const p = document.getElementById("password");
    p.type = p.type === "password" ? "text" : "password";
}

function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
    document.getElementById(id).style.display = 'block';
}

function renderLevels() {
    const container = document.getElementById("levelContainer");
    container.innerHTML = "";
    Object.keys(levels).forEach(lvl => {
        const div = document.createElement("div");
        div.className = "list-item";
        div.innerHTML = `<span>${lvl}</span> <span>â–¾</span>`;
        
        const branchesDiv = document.createElement("div");
        branchesDiv.className = "branches-container";
        
        const data = levels[lvl];
        if(!Array.isArray(data)) {
            Object.keys(data).forEach(branch => {
                const b = document.createElement("div");
                b.className = "branch-item";
                b.innerText = branch;
                b.onclick = (e) => { e.stopPropagation(); showSubjects(data[branch], `${lvl} - ${branch}`); };
                branchesDiv.appendChild(b);
            });
            div.onclick = () => {
                const isVisible = branchesDiv.style.display === "flex";
                branchesDiv.style.display = isVisible ? "none" : "flex";
            };
        } else {
            div.onclick = () => showSubjects(data, lvl);
        }
        container.appendChild(div);
        container.appendChild(branchesDiv);
    });
}

function showSubjects(list, title) {
    showPage('subjectPage');
    document.getElementById("subjectTitle").innerText = title;
    const listDiv = document.getElementById("subjectList");
    listDiv.innerHTML = "";
    list.forEach(sub => {
        const item = document.createElement("div");
        item.className = "list-item";
        item.innerText = sub;
        item.onclick = () => showExams(sub);
        listDiv.appendChild(item);
    });
}

function showExams(sub) {
    showPage('examPage');
    document.getElementById("examTitle").innerText = `ÙØ±ÙˆØ¶ ${sub}`;
    const container = document.getElementById("examContainer");
    container.innerHTML = "";
    
    // Using placeholders since real images aren't provided for every subject
    const dummyExams = [
        {title: "ÙØ±Ø¶ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¹Ø¯Ø¯ 1", url: ""}, 
        {title: "ÙØ±Ø¶ ØªØ£Ù„ÙŠÙÙŠ Ø¹Ø¯Ø¯ 1", url: ""}
    ];

    dummyExams.forEach(ex => {
        const card = document.createElement("div");
        card.className = "exam-card";
        let content = `<div class="exam-header">${ex.title}</div>`;
        if(ex.url) {
            content += `<img src="${ex.url}" class="exam-image">`;
        } else {
            content += `<div class="no-image">ğŸ“¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø© Ù…ØªÙˆÙØ±Ø©</div>`;
        }
        card.innerHTML = content;
        container.appendChild(card);
    });
}
</script>
</body>
</html>function backLevel(){subjectPage.style.display="none";home.style.display="block"}
function backToSubjects(){examPage.style.display="none";subjectPage.style.display="block"}

auth.style.display = "block";
home.style.display = "none";
</script>
</body>
</html>
